<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telemedicine Startup Assistant</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif; }
        .chat-container { height: 100vh; display: flex; flex-direction: column; }
        .message { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .typing-indicator { display: inline-block; }
        .typing-indicator span { animation: blink 1.4s infinite; display: inline-block; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes blink { 0%, 60%, 100% { opacity: 0.3; } 30% { opacity: 1; } }
        .scroll-shadow { box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Training data embedded directly
        const TRAINING_DATA = {
  "metadata": {
    "source": "Telemedicine Startup Blueprint",
    "created_date": "2026-01-13",
    "description": "Comprehensive knowledge base for telemedicine startup chatbot training",
    "total_documents": 14
  },
  "documents": [
    {
      "id": "ref_guide_001",
      "title": "Medicare Compliance Deep Dive: Dual Practice Legal Analysis",
      "category": "Reference Guides",
      "subcategory": "Legal & Compliance",
      "file_path": "/mnt/Telemedicine Startup Blueprint/01 - Reference Guides/Medicare Compliance Deep Dive.md",
      "content": "# Medicare Compliance Deep Dive: Dual Practice Legal Analysis\n\n**IMPORTANT LEGAL DISCLAIMER:** This document is for educational purposes only and does not constitute legal advice. Consult with a healthcare attorney before making decisions about practice structure or Medicare participation.\n\n## Executive Summary\nA Nurse Practitioner or Physician Assistant who is enrolled as a Medicare participating provider at their primary job faces substantial legal obstacles when operating a separate 100% cash-pay telemedicine practice. The central legal issue is not whether the practices are structured as separate entities, but whether the individual provider's Medicare enrollment status permits accepting cash payments from Medicare beneficiaries for covered services.\n\nFederal law generally prohibits this arrangement without formal opt-out‚Äîand opt-out is an all-or-nothing proposition that would terminate Medicare billing at both practices.\n\n## 1. Medicare's Mandatory Claims Submission Rule\nThe most significant finding centers on 42 U.S.C. ¬ß 1395u(b)(3)(B), known as the Mandatory Claims Submission Rule.\n\nKey Points:\n- Any provider enrolled in Medicare must submit claims for all covered services furnished to Medicare beneficiaries\n- This applies regardless of practice location or business structure\n- Having a separate NPI Type 2 does NOT change the individual provider's obligations\n- Medicare enrollment attaches to the NPI Type 1, which follows the provider across all professional activities\n- A provider cannot be \"enrolled\" at one practice and \"not enrolled\" at another\n\nFor NPs and PAs specifically: 42 U.S.C. ¬ß 1395u(b)(18) imposes mandatory assignment requirements.\n\n## 2. The Opt-Out Pathway\nMedicare regulations at 42 CFR Part 405, Subpart D establish a formal opt-out process.\n\nKey Characteristics:\n- Two-year commitment period that automatically renews\n- Must submit opt-out affidavit within 10 days of signing first private contract\n- Each Medicare patient must sign written private contract before services\n- Cannot be used for emergency or urgent care\n- CRITICAL: Opt-out applies universally - all active Medicare enrollments will be terminated\n\n## 3. Anti-Kickback Statute Concerns\nThe federal Anti-Kickback Statute (42 U.S.C. ¬ß 1320a-7b(b)) requires a federal healthcare program nexus.\n\nOIG Advisory Opinion 23-06 (September 2023):\n- Carve-outs do not insulate parties from AKS liability\n- Under the one-purpose test, if even one purpose is to induce federal healthcare program referrals, AKS is violated\n\n## 4. Stark Law: Minimal Risk for NPs/PAs\nGood news: Nurse Practitioners and Physician Assistants are not \"physicians\" under Stark Law (42 CFR ¬ß 411.351) and therefore cannot make prohibited referrals as defined by the statute.\n\n## 5. Georgia-Specific Requirements\nPractice Authority:\n- Georgia does NOT recognize full practice authority for NPs or PAs\n- Both must operate under physician supervision arrangements\n- Nurse Protocol Agreements for NPs under O.C.G.A. ¬ß 43-34-25\n- Job Descriptions for PAs under O.C.G.A. ¬ß 43-34-103\n\nTelemedicine Requirements:\n- Delegating physician must have active Georgia license\n- Prior in-person examination required for controlled substances\n- \"Diligent efforts\" for annual in-person exams\n- Pain management prescriptions NOT authorized via telemedicine\n\n2024 Scope Expansion (Effective July 1, 2024):\n- APRNs can prescribe Schedule II in emergency situations (5-day supply)\n- Supervision ratio expanded to 8 total APRNs/PAs per physician\n- Still no independent practice authority\n\n## 6. Three Compliant Pathways\n\nOption 1: Non-Covered Services Only (Most Conservative)\n- Only provide services Medicare categorically never covers\n- Wellness coaching, cosmetic consultations, lifestyle counseling\n- Limitation: Very narrow scope\n\nOption 2: Formal Medicare Opt-Out (Full Flexibility)\nPros: Full flexibility in cash-pay practice\nCons: Requires terminating ALL Medicare participation, likely ends primary employment\n\nOption 3: Medicare Beneficiary Exclusion (Higher Risk)\n- Screen all patients for Medicare status\n- Decline Medicare beneficiaries for covered services\n- Risk: Potential for inadvertent violations\n\n## 7. Required Documentation & Compliance Infrastructure\nFor Any Cash-Pay Practice:\n‚úì Written financial policies stating practice does not bill Medicare\n‚úì Patient acknowledgment forms\n‚úì Medicare eligibility verification procedures\n‚úì Documentation of verification efforts\n‚úì Designated compliance contact\n\nFor Providers Who Have Opted Out:\nPrivate contracts must meet requirements at 42 CFR ¬ß 405.415\n\nPractice Separation Best Practices:\n- Separate medical record systems\n- Distinct business entities\n- Clear operational boundaries\n- Avoid cross-referrals\n- Careful documentation of patient overlap\n\n## 8. Potential Penalties for Violations\n- False Claims Act: Treble damages + $13,946-$27,894 per claim\n- Civil Monetary Penalties: Up to $100,000 per violation\n- Anti-Kickback (Criminal): Up to 5 years imprisonment\n- Program Exclusion: Barred from ALL federal healthcare programs\n\n## 9. Key Takeaways\nThe fundamental tension cannot be resolved through business structure alone. A separate LLC, distinct NPI Type 2, and clear patient disclosures do not change the legal reality that Medicare enrollment follows the individual provider.\n\nBottom Line Options:\n1. Stay enrolled in Medicare ‚Üí Limit cash-pay practice to truly non-covered services OR exclude Medicare beneficiaries\n2. Opt out of Medicare ‚Üí Full flexibility but lose Medicare billing everywhere\n3. Consult healthcare regulatory counsel before implementing any dual-practice arrangement\n\nDocument Created: January 5, 2026\nResearch Conducted By: Claude AI (Deep Research)",
      "key_topics": [
        "anti-kickback",
        "billing",
        "cash-pay",
        "compliance",
        "dual_practice",
        "georgia",
        "legal",
        "license",
        "medicare",
        "npi",
        "nurse_practitioner",
        "opt-out",
        "physician_assistant",
        "practice_authority",
        "reference_guides",
        "regulation",
        "stark_law",
        "telemedicine"
      ],
      "document_type": "comprehensive_guide",
      "priority": "high"
    },
    {
      "id": "ref_guide_002",
      "title": "TSB Master Reference Guide",
      "category": "Reference Guides",
      "subcategory": "Business Resources",
      "file_path": "/mnt/Telemedicine Startup Blueprint/01 - Reference Guides/TSB Master Reference Guide.md",
      "content": "# TSB Master Reference Guide\n\nYour central hub for all TSB content frameworks, affiliate links, scripts, and resources.\n\n## Affiliate Links & Recommended Tools\n\n| Tool | Use Case | Affiliate Link |\n|------|----------|---------------|\n| Spruce Health | HIPAA-compliant patient communication | sprucehealth.com/r/684V4Z |\n| Heidi AI Scribe | Ambient AI medical scribe | scribe.heidihealth.com/register?via=86216a |\n| AdCreative.ai | AI-powered ad generation | [Pending] |\n| Wispr Flow | Voice dictation software | https://ref.wisprflow.ai/npcwoods-gmail-com |\n| Perplexity Comet Browser | AI-powered browser | https://perplexity.ai/browser/claim-invite/... |\n\n## Standard Tool Plugs (Copy/Paste Scripts)\n\n### Spruce Health Plug\n\nUse when discussing: Patient communication, texting patients, HIPAA-compliant messaging\n\nStandard Script (Casual):\n\"For patient communication, I use Spruce‚Äîit's HIPAA-compliant texting so you're not using your personal phone number. Patients can text you, you can send appointment reminders, follow-ups, the whole deal. All secure, all professional.\"\n\nStandard Script (In Video/Course):\n\"Quick pro tip here‚Äîdo NOT use your personal cell phone to text patients. That's a HIPAA nightmare waiting to happen. I use Spruce for all my patient communication. It's built for healthcare, it's compliant, and your patients can reach you without you giving out your personal number. Game changer.\"\n\nStandard Script (Written/Skool Post):\n\"üîê HIPAA TIP: Never text patients from your personal phone. Use a compliant platform like Spruce (that's what I use). Keeps everything secure and professional.\"\n\n## Content Frameworks\n\n### The RELATE ‚Üí VALUE ‚Üí CREDIBILITY ‚Üí PITCH Formula\nUse for: Facebook comments, group engagement, organic marketing\n\n1. RELATE - \"Dude! My people!\" (be human, create connection)\n2. VALUE - Give them something useful NOW\n3. CREDIBILITY - Brief mention of your experience (humble, not braggy)\n4. SOFT PITCH - \"Happy to help if you have questions\"\n\nExample:\n\"Dude! My people! Here's something to think about‚Äîyour social media IS your bedside manner online. Before someone ever becomes a patient, they're a follower deciding if they trust you. Quick tip: make sure your profile pic is professional but approachable. I currently do an urgent care model in Georgia and I'm thankful it's working well. If you want to dig deeper, I've got a free community for clinicians starting telemedicine practices.\"\n\n### The Content Pillars (Rotate These)\n1. üéì EDUCATIONAL - Teach something useful\n2. üôã RELATABLE - Show you understand their struggle\n3. üèÜ PROOF - Results, testimonials, your journey\n4. üé§ PERSONAL - Let them see the human behind the credentials\n\nRule: 80% value, 20% pitch\n\n### The Ad Creative Formula\nHOOK ‚Üí PROBLEM ‚Üí SOLUTION ‚Üí PROOF ‚Üí CTA\n\n## Marketing Crash Course - Module Outline\nTotal Runtime: 60-75 minutes | 5 Modules\n\nModule 1: The Foundation (10-12 min)\n- Marketing = helping people who NEED you actually FIND you\n- Matthew 5:14 - \"A city on a hill cannot be hidden\"\n- Clinicians make BETTER marketers\n\nModule 2: Your First Patients (12-15 min)\n- Method 1: Your existing network\n- Method 2: Strategic Facebook comments\n- Method 3: Local partnerships\n- SPRUCE PLUG HERE\n\nModule 3: Facebook Ads Demystified (18-20 min)\n- Conversions, not traffic\n- $5/day starting budget\n- The testing mindset\n\nModule 4: Content That Converts (12-15 min)\n- Social media = your bedside manner online\n- The 4 content pillars\n- 80/20 rule\n- Minimum 3x/week posting\n\nModule 5: The $5/Day Marketing Budget (10-12 min)\n- $5/day = $150/month\n- Budget allocation options\n- ROI mindset\n\n## The TSB Mission Statement\n\"Encouraging, demonstrating, and maintaining transparency about building telemedicine side-hustles using the Telemed Startup Blueprint to give NPs and PAs power over their own lives.\"\n\n## The \"I'm Not Special\" Positioning\n- Maintain full-time employment while building practice\n- Started with minimal investment\n- Regular person, not a guru\n- \"If I can do it, you can do it\"\n\n## Key Phrases to Use\n- \"I'm still working my regular job Monday through Friday\"\n- \"This is a side-hustle that became something real\"\n- \"Done is better than perfect\"\n- \"I'm not a salesman, and that's my superpower\"\n- \"Marketing is serving, not selling\"\n- \"A city on a hill can't be hidden\"\n\n## Audience Pain Points\n1. \"I'm not a salesman\" ‚Üí Reframe as serving\n2. \"I don't have time\" ‚Üí Side-hustle approach, 20 hrs/week\n3. \"The legal stuff is too complicated\" ‚Üí It's simpler than traditional practice\n4. \"I need to quit my job first\" ‚Üí No you don't\n5. \"The market is saturated\" ‚Üí Micro-niching, local telemedicine\n\n## Current Stats & Proof Points\n- Skool Community: 114 members (as of Jan 2, 2026)\n- NPCWoods Monthly Revenue: $12K+\n- Facebook Ad CPC: $0.27\n- Employment Status: Still working full-time M-F\n\nLast Updated: January 2, 2026",
      "key_topics": [
        "facebook",
        "facebook_ads",
        "georgia",
        "hipaa",
        "legal",
        "marketing",
        "patient_communication",
        "reference_guides",
        "side-hustle",
        "social_media",
        "spruce_health",
        "telemedicine"
      ],
      "document_type": "reference_guide",
      "priority": "high"
    },
    {
      "id": "legal_001",
      "title": "Legal Files: Medicare Compliance & Dual Practice Analysis",
      "category": "Legal & Compliance",
      "subcategory": "Practice Policies",
      "file_path": "/mnt/Telemedicine Startup Blueprint/03 - Legal & Compliance/Legal Files.md",
      "content": "# Legal Files: Medicare Compliance & Practice Policies\n\nThis page contains important legal research documents and practice policies for your telemedicine practice. Always consult with a healthcare attorney before making compliance decisions.\n\n## Documents in This Section\n\n### Medicare Compliance Deep Dive: Dual Practice Legal Analysis\nComprehensive analysis of the legal implications for NPs/PAs who are Medicare-enrolled at their primary job and want to operate a separate cash-pay telemedicine practice.\n\nKey Findings:\n- Medicare enrollment follows the INDIVIDUAL provider (NPI Type 1), not the business entity\n- Mandatory Claims Submission Rule requires billing Medicare for all covered services to Medicare beneficiaries\n- Formal Medicare opt-out is an all-or-nothing decision affecting ALL practice locations\n- Three compliant pathways exist: non-covered services only, full opt-out, or Medicare beneficiary exclusion\n- Stark Law presents minimal risk for NPs/PAs specifically\n- Georgia requires collaborative agreements for telemedicine practice\n\n### Pharmacy Routing Policies\nDocumentation of pharmacy routing decisions made for patient safety reasons, including specific incident records and approved alternative pharmacies.\n\nCurrent Restricted Pharmacies:\n- ‚ùå Walgreens, Murphy NC (Effective January 5, 2026)\n\nApproved Alternatives (Murphy, NC area):\n- ‚úÖ Walmart Pharmacy\n- ‚úÖ King's Pharmacy\n- ‚úÖ Ingles Pharmacy\n\n## Document Log\n| Date | Document | Topic |\n|------|----------|-------|\n| January 5, 2026 | Medicare Compliance Deep Dive | Dual practice arrangements |\n| January 5, 2026 | Pharmacy Policy | Routing restriction for patient safety |\n| January 5, 2026 | Pharmacy Incident Log | Documentation of failures |",
      "key_topics": [
        "billing",
        "cash-pay",
        "collaborative_agreement",
        "compliance",
        "dual_practice",
        "georgia",
        "legal",
        "medicare",
        "npi",
        "opt-out",
        "stark_law",
        "telemedicine"
      ],
      "document_type": "legal_index",
      "priority": "high"
    },
    {
      "id": "faq_001",
      "title": "Can I text patients from my personal phone?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Legal & Compliance",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/Can I text patients.md",
      "content": "# Can I text patients from my personal phone?\n\nQuick Answer: NO. That's a HIPAA nightmare. Use a compliant platform like Spruce Health that keeps everything secure and separates your personal and professional communication.\n\n## The Short Answer: Absolutely Not\nTexting patients from your personal phone is:\n- A HIPAA violation waiting to happen\n- Unprofessional\n- A liability nightmare\n- Mixing personal and professional life\n\n## The Solution\nUse a HIPAA-compliant platform like Spruce Health:\n- Separate phone number for practice\n- All communications logged and secure\n- Professional appearance\n- Peace of mind\n\n## What Counts as PHI (Protected Health Information)?\nPretty much everything:\n- Patient names\n- Appointment times\n- Any health information\n- Even confirming someone is your patient\n\n## The Fix Takes 10 Minutes\nSet up Spruce, get a business number, and never worry about this again.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "hipaa",
        "spruce_health"
      ],
      "document_type": "faq",
      "priority": "high"
    },
    {
      "id": "faq_002",
      "title": "Do I need to quit my full-time job to start?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Mindset & Philosophy",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/Do I need to quit my job.md",
      "content": "# Do I need to quit my full-time job to start?\n\nQuick Answer: No! I still work Monday through Friday. The side-hustle approach lets you build without risking your stability. Phase 1 is keeping your job for stability while building.\n\n## The 3 Phases of Freedom Framework\n\nPhase 1: Stability First\n- Keep your full-time employment\n- Build telemedicine on the side (20-25 hrs/week)\n- Prove the concept with real patients\n\nPhase 2: Deliberate Side-Hustle\n- Scale intentionally\n- Build systems and automation\n- Don't rush the transition\n\nPhase 3: Combined Income Streams\n- Use multiple income sources to eliminate debt\n- Build passive income\n- Make transitions from a position of strength, not desperation\n\n## Why This Matters\nThe \"quit your job and go all in\" advice is dangerous. I'm proof you can build a $12K+/month practice while maintaining full-time employment.\n\n## Biblical Principle\nProverbs 21:5 - \"The plans of the diligent lead surely to abundance.\" Planning + action, not reckless leaps.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "full-time_job",
        "side-hustle",
        "telemedicine"
      ],
      "document_type": "faq",
      "priority": "very_high"
    },
    {
      "id": "faq_003",
      "title": "How do I price my services?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Billing & Payments",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/How do I price my services.md",
      "content": "# How do I price my services?\n\nQuick Answer: $59 flat fee works because it's less than most copays ($30-60+), eliminates surprise billing anxiety, and positions you as accessible. Break-even at 10 patients/month.\n\n## The $59 Model Psychology\n\nWhy $59 works:\n- Less than most copays (patients already expect $30-60+)\n- Eliminates surprise billing anxiety\n- Creates transparent pricing (patients love certainty)\n- Positions you as accessible/affordable\n- Simple math: 10 patients = $590 revenue\n\n## Alternative Models to Consider\n1. Membership Model: $X/month for unlimited visits\n2. Tiered Pricing: Basic $59, Comprehensive $99\n3. Insurance + Cash Hybrid: Accept some plans, cash for others\n\n## Payment Processing\nUse Stripe - 2.9% + $0.30 per transaction. Worth it for the simplicity and professional appearance.\n\n## The Convenience Pitch\n\"Less than most copays + no leaving the house\" - this is your marketing message.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "billing",
        "marketing",
        "payment_processing",
        "pricing",
        "stripe"
      ],
      "document_type": "faq",
      "priority": "high"
    },
    {
      "id": "faq_004",
      "title": "How much does it cost to start a telemedicine practice?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Getting Started",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/How much does it cost to start.md",
      "content": "# How much does it cost to start a telemedicine practice?\n\nQuick Answer: Under $5K total startup. Monthly operating costs around $500-800/month. Break-even at just 10-15 patients/month at $59/visit.\n\n## The Real Numbers\nYou don't need $100K or fancy offices. Here's my actual breakdown:\n\nStartup Costs (One-Time):\n- LLC/PLLC formation: $100-500 depending on state\n- EHR setup: Usually first month free\n- Basic website: $0-200\n- Laptop you probably already have\n\nMonthly Operating:\n- EHR/Telemedicine platform: $200-400\n- Spruce Health (patient communication): ~$50\n- Google Workspace with BAA: ~$12\n- Total: $300-500/month\n\n## Break-Even Math\nAt $59/visit with $500/month overhead:\n- Break-even = 9 patients/month\n- That's 2-3 patients per week\n\n## The David vs Goliath Principle\nJust like David didn't need Saul's armor, you don't need hospital-level resources. The micro-telemedicine model is about starting lean and scaling smart.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "ehr",
        "patient_communication",
        "spruce_health",
        "startup_costs",
        "telemedicine"
      ],
      "document_type": "faq",
      "priority": "very_high"
    },
    {
      "id": "faq_005",
      "title": "I'm not a salesman - how do I market without feeling gross?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Marketing",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/How do I market.md",
      "content": "# I'm not a salesman - how do I market without feeling gross?\n\nQuick Answer: Reframe marketing as SERVING, not selling. You're helping people who NEED you actually FIND you. Matthew 5:14 - 'A city on a hill cannot be hidden.'\n\n## The Mindset Shift\nOld thinking: Marketing is manipulative salesmanship\nNew thinking: Marketing is serving people who need you by helping them find you\n\n## Why Clinicians Make BETTER Marketers\nYou already have:\n- Trust and authority\n- Genuine empathy\n- Problem-solving skills\n- The ability to listen and respond\n\nThese are the exact skills great marketers need.\n\n## The RELATE-VALUE-CREDIBILITY-PITCH Formula\n1. RELATE - \"Dude! My people!\" (be human, create connection)\n2. VALUE - Give something useful NOW\n3. CREDIBILITY - Brief mention of experience (humble, not braggy)\n4. SOFT PITCH - \"Happy to help if you have questions\"\n\n## The 80/20 Rule\n80% value content, 20% pitch. Lead with giving.\n\n## Biblical Foundation\nMatthew 5:14 - \"A city set on a hill cannot be hidden.\" You're not bragging - you're shining so people can find help.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "marketing"
      ],
      "document_type": "faq",
      "priority": "very_high"
    },
    {
      "id": "faq_006",
      "title": "What communication platform should I use for patients?",
      "category": "Second Brain (FAQs)",
      "subcategory": "Tech & Tools",
      "file_path": "/mnt/Telemedicine Startup Blueprint/07 - Second Brain (FAQs)/What communication platform.md",
      "content": "# What communication platform should I use for patients?\n\nQuick Answer: Spruce Health - HIPAA-compliant texting so you're not using your personal phone. Patients can text you for appointment reminders and follow-ups securely.\n\n## Why Spruce Health?\nThe Problem: Using your personal phone to text patients is a HIPAA nightmare.\nThe Solution: Spruce is built for healthcare, fully compliant, and your patients can reach you without you giving out your personal number.\n\n## What You Get\n- HIPAA-compliant texting\n- Async messaging with patients\n- Appointment reminders\n- Professional separation from personal life\n- Voicemail and call routing\n\n## Cost\nAround $50/month - worth every penny for the peace of mind.\n\n## Pro Tip\nSet up auto-responses for after-hours so patients know when to expect a reply.\n\nLast Updated: January 12, 2026\nSource: Personal Experience",
      "key_topics": [
        "hipaa",
        "spruce_health"
      ],
      "document_type": "faq",
      "priority": "high"
    }
  ]
};

        // Smart search function
        function searchKnowledgeBase(query) {
            const lowercaseQuery = query.toLowerCase();
            const words = lowercaseQuery.split(/\s+/);
            
            const results = TRAINING_DATA.documents.map(doc => {
                let score = 0;
                const contentLower = (doc.content + ' ' + doc.title).toLowerCase();
                
                // Title matches get high scores
                if (doc.title.toLowerCase().includes(lowercaseQuery)) score += 50;
                
                // Topic matches
                doc.key_topics.forEach(topic => {
                    if (lowercaseQuery.includes(topic.replace(/_/g, ' '))) score += 20;
                });
                
                // Word frequency in content
                words.forEach(word => {
                    if (word.length > 3) {
                        const regex = new RegExp(word, 'gi');
                        const matches = contentLower.match(regex);
                        if (matches) score += matches.length * 2;
                    }
                });
                
                // Priority boost
                if (doc.priority === 'very_high') score *= 1.5;
                else if (doc.priority === 'high') score *= 1.2;
                
                return { doc, score };
            });
            
            return results
                .filter(r => r.score > 0)
                .sort((a, b) => b.score - a.score)
                .slice(0, 3)
                .map(r => r.doc);
        }

        // Generate AI response
        function generateResponse(query, relevantDocs) {
            const lowercaseQuery = query.toLowerCase();
            
            // Check for specific patterns
            if (lowercaseQuery.includes('text') && (lowercaseQuery.includes('patient') || lowercaseQuery.includes('phone'))) {
                const doc = relevantDocs.find(d => d.id === 'faq_001');
                if (doc) {
                    return {
                        answer: "**No, you should NOT text patients from your personal phone.** That's a HIPAA violation waiting to happen. Here's what you need to know:\n\n**The Problem:**\n- Using your personal phone violates HIPAA\n- It's unprofessional and mixes personal/professional life\n- Creates liability risks\n\n**The Solution:**\nUse a HIPAA-compliant platform like **Spruce Health** (~$50/month):\n- Separate business phone number\n- All communications logged and secure\n- Professional appearance\n- Peace of mind\n\nRemember: Pretty much everything counts as Protected Health Information (PHI) - patient names, appointment times, any health info, even confirming someone is your patient.\n\nThe fix takes about 10 minutes to set up. Get Spruce, get a business number, and you'll never have to worry about this again.",
                        sources: [doc]
                    };
                }
            }
            
            if (lowercaseQuery.includes('quit') && lowercaseQuery.includes('job')) {
                const doc = relevantDocs.find(d => d.id === 'faq_002');
                if (doc) {
                    return {
                        answer: "**No, you don't need to quit your full-time job to start!** In fact, I still work Monday through Friday while running my telemedicine practice.\n\n**The 3 Phases of Freedom Framework:**\n\n**Phase 1: Stability First**\n- Keep your full-time employment\n- Build telemedicine on the side (20-25 hrs/week)\n- Prove the concept with real patients\n\n**Phase 2: Deliberate Side-Hustle**\n- Scale intentionally\n- Build systems and automation\n- Don't rush the transition\n\n**Phase 3: Combined Income Streams**\n- Use multiple income sources to eliminate debt\n- Build passive income\n- Make transitions from a position of strength, not desperation\n\n**Why This Matters:**\nThe \"quit your job and go all in\" advice is dangerous. I'm proof you can build a $12K+/month practice while maintaining full-time employment.\n\nAs Proverbs 21:5 says: \"The plans of the diligent lead surely to abundance.\" This is about planning + action, not reckless leaps.",
                        sources: [doc]
                    };
                }
            }
            
            if ((lowercaseQuery.includes('cost') || lowercaseQuery.includes('price') || lowercaseQuery.includes('money')) && lowercaseQuery.includes('start')) {
                const doc = relevantDocs.find(d => d.id === 'faq_004');
                if (doc) {
                    return {
                        answer: "Starting a telemedicine practice is surprisingly affordable! Here's the breakdown:\n\n**Total Startup Cost: Under $5K**\n\n**One-Time Costs:**\n- LLC/PLLC formation: $100-500 (varies by state)\n- EHR setup: Usually first month free\n- Basic website: $0-200\n- Laptop: You probably already have one\n\n**Monthly Operating Costs ($300-500/month):**\n- EHR/Telemedicine platform: $200-400\n- Spruce Health (patient communication): ~$50\n- Google Workspace with BAA: ~$12\n\n**Break-Even Math:**\nAt $59/visit with $500/month overhead:\n- Break-even = 9 patients/month\n- That's just 2-3 patients per week!\n\n**The David vs Goliath Principle:**\nYou don't need hospital-level resources or $100K in the bank. The micro-telemedicine model is about starting lean and scaling smart. Just like David didn't need Saul's armor to defeat Goliath, you don't need massive infrastructure to serve patients effectively.",
                        sources: [doc]
                    };
                }
            }
            
            if (lowercaseQuery.includes('price') || lowercaseQuery.includes('charge') || lowercaseQuery.includes('fee')) {
                const doc = relevantDocs.find(d => d.id === 'faq_003');
                if (doc) {
                    return {
                        answer: "**The $59 Flat Fee Model** is recommended, and here's why it works:\n\n**Why $59 Works:**\n- Less than most copays (patients already expect $30-60+)\n- Eliminates surprise billing anxiety\n- Creates transparent pricing (patients love certainty)\n- Positions you as accessible and affordable\n- Simple math: 10 patients = $590 revenue\n\n**Alternative Models to Consider:**\n1. **Membership Model:** $X/month for unlimited visits\n2. **Tiered Pricing:** Basic $59, Comprehensive $99\n3. **Insurance + Cash Hybrid:** Accept some plans, cash for others\n\n**Payment Processing:**\nUse Stripe (2.9% + $0.30 per transaction). It's worth it for the simplicity and professional appearance.\n\n**Your Marketing Message:**\n\"Less than most copays + no leaving the house\" - This convenience + affordability combination is very compelling to patients.",
                        sources: [doc]
                    };
                }
            }
            
            if (lowercaseQuery.includes('market') || lowercaseQuery.includes('sales') || lowercaseQuery.includes('selling')) {
                const doc = relevantDocs.find(d => d.id === 'faq_005');
                if (doc) {
                    return {
                        answer: "**Reframe marketing as SERVING, not selling.** You're helping people who NEED you actually FIND you.\n\n**The Mindset Shift:**\n- Old thinking: Marketing is manipulative salesmanship\n- New thinking: Marketing is serving people who need you by helping them find you\n\n**Why Clinicians Make BETTER Marketers:**\nYou already have:\n- Trust and authority\n- Genuine empathy\n- Problem-solving skills\n- The ability to listen and respond\n\nThese are the exact skills great marketers need!\n\n**The RELATE-VALUE-CREDIBILITY-PITCH Formula:**\n1. **RELATE** - \"Dude! My people!\" (be human, create connection)\n2. **VALUE** - Give something useful NOW\n3. **CREDIBILITY** - Brief mention of experience (humble, not braggy)\n4. **SOFT PITCH** - \"Happy to help if you have questions\"\n\n**The 80/20 Rule:**\n80% value content, 20% pitch. Always lead with giving.\n\n**Biblical Foundation:**\nMatthew 5:14 - \"A city set on a hill cannot be hidden.\" You're not bragging - you're shining so people can find help.",
                        sources: [doc]
                    };
                }
            }
            
            if (lowercaseQuery.includes('medicare') && (lowercaseQuery.includes('dual') || lowercaseQuery.includes('cash') || lowercaseQuery.includes('two') || lowercaseQuery.includes('both'))) {
                const doc = relevantDocs.find(d => d.id === 'ref_guide_001');
                if (doc) {
                    return {
                        answer: "**Operating a dual practice (Medicare-enrolled job + cash-pay telemedicine) is legally complex.** Here are the key issues:\n\n**The Core Problem:**\nMedicare enrollment follows YOUR individual provider identity (NPI Type 1), not your business. If you're enrolled in Medicare at your primary job, you must bill Medicare for ALL covered services to Medicare beneficiaries - even at your separate cash-pay practice.\n\n**Three Compliant Pathways:**\n\n**Option 1: Non-Covered Services Only (Most Conservative)**\n- Only provide services Medicare NEVER covers\n- Examples: Wellness coaching, cosmetic consultations, lifestyle counseling\n- Limitation: Very narrow scope\n\n**Option 2: Formal Medicare Opt-Out (Full Flexibility)**\n- Pros: Complete freedom in your cash-pay practice\n- Cons: Terminates ALL Medicare participation (would likely end your primary job)\n- Requires 2-year commitment\n\n**Option 3: Medicare Beneficiary Exclusion (Higher Risk)**\n- Screen all patients for Medicare status\n- Decline Medicare beneficiaries for covered services\n- Risk: Potential for inadvertent violations\n\n**Important:** Having a separate LLC or NPI Type 2 does NOT resolve this issue. You MUST consult with a healthcare attorney before implementing any dual-practice arrangement.\n\n**Penalties for violations can be severe:** False Claims Act damages, civil monetary penalties, criminal charges, and exclusion from ALL federal healthcare programs.",
                        sources: [doc]
                    };
                }
            }
            
            if (lowercaseQuery.includes('georgia') || lowercaseQuery.includes('ga')) {
                const doc = relevantDocs.find(d => d.id === 'ref_guide_001');
                if (doc) {
                    return {
                        answer: "**Georgia-Specific Requirements for Telemedicine:**\n\n**Practice Authority:**\n- Georgia does NOT recognize full practice authority for NPs or PAs\n- Both must operate under physician supervision arrangements\n- Nurse Protocol Agreements required for NPs (O.C.G.A. ¬ß 43-34-25)\n- Job Descriptions required for PAs (O.C.G.A. ¬ß 43-34-103)\n\n**Telemedicine Requirements:**\n- Delegating physician must have active Georgia license\n- Prior in-person examination required for controlled substances\n- \"Diligent efforts\" required for annual in-person exams\n- Pain management prescriptions NOT authorized via telemedicine\n\n**2024 Scope Expansion (Effective July 1, 2024):**\n- APRNs can prescribe Schedule II in emergency situations (5-day supply)\n- Supervision ratio expanded to 8 total APRNs/PAs per physician\n- Still no independent practice authority\n\n**Bottom Line:** You'll need a collaborative agreement with a physician who has an active Georgia license to practice telemedicine in Georgia legally.",
                        sources: [doc]
                    };
                }
            }
            
            // Generate generic response from top relevant docs
            if (relevantDocs.length > 0) {
                const topDoc = relevantDocs[0];
                const content = topDoc.content;
                
                // Extract key sections
                const lines = content.split('\n');
                const keyInfo = lines.slice(0, 20).join('\n');
                
                return {
                    answer: `Based on your question, here's relevant information from the **${topDoc.title}**:\n\n${keyInfo}\n\n${content.length > 1000 ? '...(see full document for complete details)' : ''}`,
                    sources: [topDoc]
                };
            }
            
            return {
                answer: "I don't have specific information about that in my training materials. However, I can help with questions about:\n\n- Starting a telemedicine practice (costs, timeline, requirements)\n- Medicare compliance and dual practice concerns\n- HIPAA-compliant patient communication\n- Pricing strategies ($59 model)\n- Marketing without feeling \"salesy\"\n- Side-hustle approach (keeping your full-time job)\n- Georgia-specific regulations\n- Recommended tools (Spruce Health, EHR, etc.)\n\nCould you rephrase your question or ask about one of these topics?",
                sources: []
            };
        }

        // Example questions
        const EXAMPLE_QUESTIONS = [
            "How much does it cost to start?",
            "Can I text patients from my personal phone?",
            "Do I need to quit my job to start?",
            "How should I price my services?",
            "How do I market without feeling like a salesman?",
            "What are Georgia's telemedicine requirements?",
            "Can I run a cash-pay practice if I'm Medicare-enrolled at my main job?",
            "What communication platform should I use?"
        ];

        // LLM API call function
        async function callLLM(messages, apiKey, trainingData) {
            const systemPrompt = `You are a helpful Telemedicine Startup Assistant created for NPs and PAs who want to start their own telemedicine practice. You have access to comprehensive training materials from the "Telemedicine Startup Blueprint" course.

IMPORTANT GUIDELINES:
- Be encouraging but realistic
- Always recommend consulting healthcare attorneys for legal questions
- Reference the training materials when relevant
- Keep responses concise but thorough
- Use markdown formatting for clarity

TRAINING DATA CONTEXT:
${trainingData.documents.map(doc => `
### ${doc.title}
Category: ${doc.category}
${doc.content.substring(0, 2000)}${doc.content.length > 2000 ? '...' : ''}
`).join('\n')}

Answer questions based on this knowledge base. If asked about something not covered, be honest that it's outside your training materials but offer general guidance.`;

            const response = await fetch('https://api.openai.com/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: 'gpt-4o-mini',
                    messages: [
                        { role: 'system', content: systemPrompt },
                        ...messages.map(m => ({
                            role: m.role,
                            content: m.content
                        }))
                    ],
                    max_tokens: 1000,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                const error = await response.json();
                throw new Error(error.error?.message || 'API request failed');
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        function ChatBot() {
            const [messages, setMessages] = useState([
                {
                    role: 'assistant',
                    content: "Hi! I'm your Telemedicine Startup Assistant. I'm here to help you with questions about starting and running a telemedicine clinic.\n\nI have access to comprehensive training materials covering startup costs, legal compliance, Medicare regulations, pricing strategies, marketing, and more.\n\nWhat would you like to know?",
                    timestamp: new Date()
                }
            ]);
            const [input, setInput] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const [showExamples, setShowExamples] = useState(true);
            const [showSettings, setShowSettings] = useState(false);
            const [apiKey, setApiKey] = useState('');
            const [useLLM, setUseLLM] = useState(false);
            const [error, setError] = useState('');
            const messagesEndRef = useRef(null);
            const chatHistoryKey = 'telemedicine_chat_history';
            const apiKeyStorageKey = 'telemedicine_openai_key';

            // Load chat history from localStorage
            useEffect(() => {
                try {
                    const storedData = localStorage.getItem(chatHistoryKey);
                    if (storedData && storedData.length > 0) {
                        const decoded = atob(storedData);
                        if (decoded && decoded.length > 0) {
                            const saved = JSON.parse(decoded);
                            if (saved && Array.isArray(saved) && saved.length > 0) {
                                setMessages(saved.map(m => ({...m, timestamp: new Date(m.timestamp)})));
                                setShowExamples(false);
                            }
                        }
                    }
                } catch (e) {
                    // Clear corrupted data
                    localStorage.removeItem(chatHistoryKey);
                }

                // Load API key
                try {
                    const storedKey = localStorage.getItem(apiKeyStorageKey);
                    if (storedKey) {
                        setApiKey(atob(storedKey));
                        setUseLLM(true);
                    }
                } catch (e) {
                    localStorage.removeItem(apiKeyStorageKey);
                }
            }, []);

            // Save chat history to localStorage
            useEffect(() => {
                if (messages.length > 1) {
                    localStorage.setItem(chatHistoryKey, btoa(JSON.stringify(messages)));
                }
            }, [messages]);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            };

            useEffect(scrollToBottom, [messages]);

            const handleSend = async (text = input) => {
                if (!text.trim()) return;

                const userMessage = {
                    role: 'user',
                    content: text,
                    timestamp: new Date()
                };

                setMessages(prev => [...prev, userMessage]);
                setInput('');
                setIsTyping(true);
                setShowExamples(false);
                setError('');

                try {
                    let responseContent;
                    let sources = [];

                    if (useLLM && apiKey) {
                        // Use LLM for response
                        const chatHistory = [...messages, userMessage].slice(-10); // Last 10 messages for context
                        responseContent = await callLLM(chatHistory, apiKey, TRAINING_DATA);
                    } else {
                        // Fallback to pattern matching
                        await new Promise(resolve => setTimeout(resolve, 800));
                        const relevantDocs = searchKnowledgeBase(text);
                        const response = generateResponse(text, relevantDocs);
                        responseContent = response.answer;
                        sources = response.sources;
                    }

                    const assistantMessage = {
                        role: 'assistant',
                        content: responseContent,
                        sources: sources,
                        timestamp: new Date()
                    };

                    setMessages(prev => [...prev, assistantMessage]);
                } catch (err) {
                    setError(err.message || 'Failed to get response');
                    // Fallback to pattern matching on error
                    const relevantDocs = searchKnowledgeBase(text);
                    const response = generateResponse(text, relevantDocs);
                    const assistantMessage = {
                        role: 'assistant',
                        content: response.answer + '\n\n*(Note: LLM unavailable, using built-in responses)*',
                        sources: response.sources,
                        timestamp: new Date()
                    };
                    setMessages(prev => [...prev, assistantMessage]);
                } finally {
                    setIsTyping(false);
                }
            };

            const handleExampleClick = (question) => {
                handleSend(question);
            };

            const clearHistory = () => {
                localStorage.removeItem(chatHistoryKey);
                setMessages([{
                    role: 'assistant',
                    content: "Hi! I'm your Telemedicine Startup Assistant. I'm here to help you with questions about starting and running a telemedicine clinic.\n\nI have access to comprehensive training materials covering startup costs, legal compliance, Medicare regulations, pricing strategies, marketing, and more.\n\nWhat would you like to know?",
                    timestamp: new Date()
                }]);
                setShowExamples(true);
                setError('');
            };

            const saveApiKey = (key) => {
                if (key && key.trim()) {
                    localStorage.setItem(apiKeyStorageKey, btoa(key.trim()));
                    setApiKey(key.trim());
                    setUseLLM(true);
                } else {
                    localStorage.removeItem(apiKeyStorageKey);
                    setApiKey('');
                    setUseLLM(false);
                }
                setShowSettings(false);
            };

            const exportChat = () => {
                const text = messages.map(m => 
                    `[${m.timestamp.toLocaleTimeString()}] ${m.role.toUpperCase()}: ${m.content}\n` +
                    (m.sources ? `Sources: ${m.sources.map(s => s.title).join(', ')}\n` : '')
                ).join('\n');
                
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `telemedicine-chat-${new Date().toISOString().split('T')[0]}.txt`;
                a.click();
            };

            return (
                <div className="chat-container bg-gray-50">
                    {/* Header */}
                    <div className="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 shadow-lg">
                        <div className="max-w-4xl mx-auto flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 bg-white rounded-full flex items-center justify-center">
                                    <span className="text-2xl">üè•</span>
                                </div>
                                <div>
                                    <h1 className="text-xl font-bold">Telemedicine Startup Assistant</h1>
                                    <p className="text-blue-100 text-sm">Ask me anything about starting your clinic</p>
                                </div>
                            </div>
                            <div className="flex gap-2 items-center">
                                {useLLM && (
                                    <span className="px-2 py-1 bg-green-500 rounded text-xs font-medium">
                                        AI Enabled
                                    </span>
                                )}
                                <button
                                    onClick={() => setShowSettings(true)}
                                    className="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm transition-colors"
                                    title="Settings"
                                >
                                    Settings
                                </button>
                                <button
                                    onClick={exportChat}
                                    className="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm transition-colors"
                                    title="Export chat"
                                >
                                    Export
                                </button>
                                <button
                                    onClick={clearHistory}
                                    className="px-3 py-1 bg-blue-500 hover:bg-blue-400 rounded text-sm transition-colors"
                                    title="Clear history"
                                >
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Messages */}
                    <div className="flex-1 overflow-y-auto p-4" style={{height: 'calc(100vh - 200px)'}}>
                        <div className="max-w-4xl mx-auto space-y-4">
                            {messages.map((message, idx) => (
                                <div key={idx} className={`message flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`max-w-[80%] ${message.role === 'user' ? 'order-2' : 'order-1'}`}>
                                        <div className={`rounded-lg p-4 ${
                                            message.role === 'user' 
                                                ? 'bg-blue-600 text-white' 
                                                : 'bg-white shadow-md border border-gray-200'
                                        }`}>
                                            <div className="whitespace-pre-wrap" dangerouslySetInnerHTML={{
                                                __html: message.content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                                            }} />
                                            {message.sources && message.sources.length > 0 && (
                                                <div className="mt-3 pt-3 border-t border-gray-200">
                                                    <p className="text-xs font-semibold text-gray-600 mb-1">üìö Sources:</p>
                                                    {message.sources.map((source, i) => (
                                                        <div key={i} className="text-xs text-gray-600 mb-1">
                                                            ‚Ä¢ {source.title} ({source.category})
                                                        </div>
                                                    ))}
                                                </div>
                                            )}
                                        </div>
                                        <div className={`text-xs text-gray-500 mt-1 ${message.role === 'user' ? 'text-right' : 'text-left'}`}>
                                            {message.timestamp.toLocaleTimeString()}
                                        </div>
                                    </div>
                                </div>
                            ))}
                            
                            {isTyping && (
                                <div className="flex justify-start">
                                    <div className="bg-white shadow-md border border-gray-200 rounded-lg p-4">
                                        <div className="typing-indicator">
                                            <span>‚óè</span>
                                            <span>‚óè</span>
                                            <span>‚óè</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                            
                            {showExamples && messages.length === 1 && (
                                <div className="bg-white rounded-lg shadow-md border border-gray-200 p-6">
                                    <h3 className="font-semibold text-gray-800 mb-3">üí° Try asking:</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-2">
                                        {EXAMPLE_QUESTIONS.map((q, i) => (
                                            <button
                                                key={i}
                                                onClick={() => handleExampleClick(q)}
                                                className="text-left p-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-sm text-blue-700 transition-colors"
                                            >
                                                {q}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )}
                            
                            <div ref={messagesEndRef} />
                        </div>
                    </div>

                    {/* Input */}
                    <div className="bg-white border-t border-gray-200 p-4 scroll-shadow">
                        <div className="max-w-4xl mx-auto">
                            {error && (
                                <div className="mb-2 p-2 bg-red-100 border border-red-300 text-red-700 rounded text-sm">
                                    {error}
                                </div>
                            )}
                            <div className="flex gap-2">
                                <input
                                    type="text"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleSend()}
                                    placeholder="Ask a question about starting your telemedicine clinic..."
                                    className="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    disabled={isTyping}
                                />
                                <button
                                    onClick={() => handleSend()}
                                    disabled={!input.trim() || isTyping}
                                    className="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-semibold"
                                >
                                    Send
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Settings Modal */}
                    {showSettings && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl">
                                <h2 className="text-xl font-bold mb-4">Settings</h2>

                                <div className="mb-4">
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        OpenAI API Key
                                    </label>
                                    <input
                                        type="password"
                                        defaultValue={apiKey}
                                        id="apiKeyInput"
                                        placeholder="sk-..."
                                        className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    />
                                    <p className="mt-2 text-xs text-gray-500">
                                        Your API key is stored locally in your browser and never sent to our servers.
                                        Get one at <a href="https://platform.openai.com/api-keys" target="_blank" className="text-blue-600 hover:underline">platform.openai.com</a>
                                    </p>
                                </div>

                                <div className="mb-4 p-3 bg-blue-50 rounded-lg">
                                    <p className="text-sm text-blue-800">
                                        <strong>Without API key:</strong> Uses built-in pattern matching (limited responses)
                                        <br />
                                        <strong>With API key:</strong> Uses GPT-4o-mini for intelligent, contextual responses
                                    </p>
                                </div>

                                <div className="flex gap-2 justify-end">
                                    <button
                                        onClick={() => setShowSettings(false)}
                                        className="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button
                                        onClick={() => saveApiKey(document.getElementById('apiKeyInput').value)}
                                        className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                    >
                                        Save
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        ReactDOM.render(<ChatBot />, document.getElementById('root'));
    </script>
</body>
</html>
